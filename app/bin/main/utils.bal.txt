    function encodeParameters(json[] params) returns string {
        string encodedParams = "";
        foreach var param in params {
            string paramEncoded = "";
            if param is int {
                paramEncoded = param.toHexString().padStart(64, "0");
            } else if param is string {
                if param.startsWith("0x") && param.length() == 42 {
                    paramEncoded = param.substring(2).padStart(64, "0");
                } else {
                    paramEncoded = stringToHex(param).padStart(64, "0");
                }
            } else if param is boolean {
                paramEncoded = param ? "1".padStart(64, "0") : "0".padStart(64, "0");
            } else {
                paramEncoded = stringToHex(param.toString()).padStart(64, "0");
            }

            encodedParams += paramEncoded;
        }
        return encodedParams;
    }

    function stringToHex(string value) returns string {
        string hexString = "";
        foreach var ch in value {
            hexString += int:toHexString(ch.toCodePointInt());
        }
        return hexString;
    }